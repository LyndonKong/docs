---
title: "部署虚拟机实例"
date: 2022-01-12T14:47:19+08:00
weight: 10
description: >
    在虚拟机类型的Helm仓库提供的应用市场快速部署虚拟机实例应用
---

### 前提条件

{{<oem_name>}} 平台自研的虚拟机编排硬性要求虚拟机的镜像为“CentOS-7.6.1810-20190430.qcow2”，请在部署虚拟机之前先上传或在镜像市场导入改镜像，否则将无法成功创建虚拟机实例。

### 操作步骤

1. 在左侧导航栏，选择 **_"运维工具/编排/应用市场"_** 菜单项，进入应用市场页面。
2. 类型选择“虚拟机类型”，并选择对应仓库名称。
2. 当应用较多时，请在搜索输入框中设置应用名称进行搜索。
3. 单击应用模块上的 **_"部署"_** 按钮，进入部署应用页面。
4. 配置以下信息：
   - 名称：应用发布的名称。
   - 商店-模板版本：选择在商店里应用模板的版本。
   - 资源归属项目：选择应用部署的虚拟机实例所属的项目。
   - 表单配置：
      - 平台：选择虚拟机实例所属平台。
      - 区域：选择虚拟机实例所在区域。
      - 可用区：选择虚拟机实例所在可用区。
      - VPC：选择虚拟机实例所在VPC。
      - 网络：选择虚拟机实例所属IP子网。当选择{{<oem_name>}}平台VPC网络的IP子网时，将会自动为虚拟机创建弹性公网IP。
      - 套餐：选择虚拟机实例的套餐，通过套餐可以确定CPU和内存配置等。
      - 存储类型：选择磁盘的存储类型。
      - 磁盘大小：设置磁盘的容量大小。
      - 应用配置：不同应用配置不同，请根据实际情况进行设置。
      - InfluxDB数据库名称：设置InfluxDB数据的名称。
      - InfluxDB数据库地址：用于监控数据上传通道，{{<oem_name>}}平台的InfluxDB部署在控制节点上，格式为https://控制节点IP地址:30086。
   - 详细描述：用于查看应用的详细介绍信息。
   - YAML模板：支持预览应用的模板文件的信息。
5. 单击 **_"确定"_** 按钮，将跳转到虚拟机实例页面。
6. 部署过程中将先创建虚拟机再部署应用。
7. 虚拟机实例状态含义如下：
   - 创建成功：表示已成功创建了虚拟机，但未部署应用。
   - 已部署：表示将部署编排提交到Kubernetes的Etcd，开始部署应用。